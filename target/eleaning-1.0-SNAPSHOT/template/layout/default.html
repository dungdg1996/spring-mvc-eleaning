<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <title>Trang chủ</title>
    <div th:replace="frament/header"></div>
</head>

<body>
<div id="pcoded" class="pcoded">
    <div class="pcoded-overlay-box"></div>
    <div class="pcoded-container navbar-wrapper">

        <nav class="navbar header-navbar pcoded-header">
            <div class="navbar-wrapper">
                <div class="navbar-logo">
                    <a class="mobile-menu" id="mobile-collapse" href="#!">
                        <i class="feather icon-menu"></i>
                    </a>
                    <a href='#'>
                        <img class="img-fluid" th:src='@{/static/images/logo.png}' alt="Theme-Logo">
                    </a>
                    <a class="mobile-options">
                        <i class="feather icon-more-horizontal"></i>
                    </a>
                </div>

                <div class="navbar-container container-fluid">
                    <ul class="nav-left">
                        <li class="header-search">
                            <div class="main-search morphsearch-search">
                                <div class="input-group">
                                        <span class="input-group-addon search-close"><i
                                                class="feather icon-x"></i></span>
                                    <input type="text" class="form-control">
                                    <span class="input-group-addon search-btn"><i
                                            class="feather icon-search"></i></span>
                                </div>
                            </div>
                        </li>
                    </ul>
                    <ul class="nav-right">
                        <li class="header-notification">
                            <div class="dropdown-primary dropdown">
                                <div class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="feather icon-bell"></i>
                                    <span class="badge bg-c-pink">5</span>
                                </div>
                            </div>
                        </li>
                        <li class="header-notification">
                            <div class="dropdown-primary dropdown">
                                <div class="displayChatbox dropdown-toggle" data-toggle="dropdown">
                                    <i class="feather icon-message-square"></i>
                                    <span class="badge bg-c-green">3</span>
                                </div>
                            </div>
                        </li>
                        <li class="user-profile header-notification">
                            <div class="dropdown-primary dropdown">
                                <div class="dropdown-toggle" data-toggle="dropdown">
                                    <img th:src="@{/static/images/avatar-4.jpg}" class="img-radius"
                                         alt="User-Profile-Image">
                                    <span>John Doe</span>
                                    <i class="feather icon-chevron-down"></i>
                                </div>
                                <ul class="show-notification profile-notification dropdown-menu"
                                    data-dropdown-in="fadeIn" data-dropdown-out="fadeOut">
                                    <li>
                                        <a href="#!">
                                            <i class="feather icon-settings"></i> Settings
                                        </a>
                                    </li>
                                    <li>
                                        <a href="user-profile.htm">
                                            <i class="feather icon-user"></i> Profile
                                        </a>
                                    </li>
                                    <li>
                                        <a href="auth-normal-sign-in.htm">
                                            <i class="feather icon-log-out"></i> Logout
                                        </a>
                                    </li>
                                </ul>

                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="pcoded-main-container">
            <div class="pcoded-wrapper">
                <nav class="pcoded-navbar">
                    <div class="pcoded-inner-navbar main-menu">
                        <ul class="pcoded-item pcoded-left-item">
                            <li class="">
                                <a href="javascript:void(0)">
                                    <span class="pcoded-micon"><i class="feather icon-home"></i></span>
                                    <span class="pcoded-mtext">Dashboard</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./category-index.html">
                                    <span class="pcoded-micon"><i class="feather icon-layers"></i></span>
                                    <span class="pcoded-mtext">Danh mục</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./course-list.html">
                                    <span class="pcoded-micon"><i class="feather icon-layers"></i></span>
                                    <span class="pcoded-mtext">Khóa học</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./video-list.html">
                                    <span class="pcoded-micon"><i class="feather icon-layers"></i></span>
                                    <span class="pcoded-mtext">Video</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./target-list.html">
                                    <span class="pcoded-micon"><i class="feather icon-layers"></i></span>
                                    <span class="pcoded-mtext">Mục tiêu</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./user-index.html">
                                    <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                    <span class="pcoded-mtext">Tài khoản</span>
                                </a>
                            </li>
                            <li class="">
                                <a href="./role-index.html">
                                    <span class="pcoded-micon"><i class="feather icon-user"></i></span>
                                    <span class="pcoded-mtext">Quyền</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
                <div class="pcoded-content">
                    <div class="pcoded-inner-content">
                        <!-- Main-body start -->
                        <div class="main-body">
                            <div class="page-body">
                                <div class="row">
                                    <div class="col-md-12 mb-2">
                                        <div class="page-header-breadcrumb">
                                            <ul class="breadcrumb-title">
                                                <li class="breadcrumb-item">
                                                    <a href="/admin"> <i class="feather icon-home"></i> Trang
                                                        chủ</a>
                                                </li>
                                                <li class="breadcrumb-item">
                                                    <a href="/admin/role">Quyền</a>
                                                </li>
                                                <li class="breadcrumb-item"><a href="#!">Thêm mới quyền</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="col-sm-12">
                                        <div class="card">
                                            <div class="card-header">
                                                <h2 class="text-uppercase text-center">Thêm mới quyền</h2>
                                            </div>
                                            <div class="card-block">
                                                <form action="" method="post">
                                                    <div class="row">
                                                        <div class="col-md-6 m-auto">
                                                            <div class="form-group">
                                                                <label>Tên quyền</label>
                                                                <input type="text" path="name" id="name"
                                                                       class="form-control"/>
                                                            </div>
                                                            <div class="form-group">
                                                                <label>Mô tả</label>
                                                                <input type="text" path="description" id="desc"
                                                                       class="form-control"/>
                                                            </div>
                                                            <div class="form-group mt-3">
                                                                <button type="button" onclick="addRole()"
                                                                        class="btn btn-primary m-b-0">Lưu lại
                                                                </button>
                                                                <a href="#"
                                                                   class="btn btn-secondary text-white">Quay
                                                                    lại</a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" th:src="@{/static/plugins/jquery/js/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/jquery-ui/js/jquery-ui.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/popper.js/js/popper.min.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/bootstrap/js/bootstrap.min.js}"></script>
<!-- jquery slimscroll js -->
<script type="text/javascript" th:src="@{/static/plugins/jquery-slimscroll/js/jquery.slimscroll.js}"></script>
<!-- modernizr js -->
<script type="text/javascript" th:src="@{/static/plugins/modernizr/js/modernizr.js}"></script>
<script type="text/javascript" th:src="@{/static/plugins/modernizr/js/css-scrollbars.js}"></script>
<script th:src="@{/static/js/pcoded.min.js}"></script>
<script th:src="@{/static/js/vartical-layout.min.js}"></script>
<script th:src="@{/static/js/jquery.mCustomScrollbar.concat.min.js}"></script>
<!-- Custom js -->
<script type="text/javascript" th:src="@{/static/js/script.js}"></script>
<script src="http://cdn.ckeditor.com/4.11.4/full/ckeditor.js"></script>
<script src="http://cdn.ckeditor.com/4.4.7/standard-all/adapters/jquery.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js}"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js}"></script>
<script>
    function addRole() {
        // Lấy thông tin từ form
        let name = document.getElementById('name').value;
        let desc = document.getElementById('desc').value;
        // Gọi api để thêm mới
        axios({
            url: 'http://localhost:8080/ElearningApp/api/admin/role',
            method: 'POST',
            data: {
                "id": "",
                "name": name,
                "description": desc
            }
        })
            .then(function (response) { // Xử lý response trả về
                console.log(response);
                swal("Thông báo!", "Thêm mới thành công!", "success");
                window.location.href = '/role-index.html';
            })
            .catch(function (error) { // Xử lý error trả về
                console.log(error);
                swal("Thông báo!", "Thêm mới thất bại!", "error");
            })
    }
</script>
</body>

</html>
